/*! hierarchicalGroupsForBp - v1.0.0 - 2017-05-09 */!function(a){"use strict";function b(b){var c=b.prop("checked")?1:0,d=a("select#groups-order-by").val(),e="";return a.cookie("bp-groups-use-tree-view",c,{path:"/"}),a(".dir-search input").length&&(e=a(".dir-search input").val()),bp_filter_request("groups",d,"filter","div.groups",e,1,a.cookie("bp-group-extras")),!1}function c(a){a.siblings(".child-groups").toggleClass("open"),a.toggleClass("open"),a.attr("aria-expanded",a.siblings(".child-groups").hasClass("open"))}function d(b){var c=b.closest(".child-groups-container").find(".child-groups").first();a.trim(c.text()).length||e===!1&&(e=!0,c.addClass("loading"),a.ajax({url:ajaxurl,type:"GET",data:{parent_id:b.data("group-id"),action:"hgbp_get_child_groups"},success:function(b){a(c).html(b).trigger("childGroupsContainerPopulated")}}).done(function(a){e=!1,c.removeClass("loading")}))}var e=!1;a(document).ready(function(){a("#hgbp-enable-tree-view-container input").prop("disabled",a("#groups-personal").hasClass("selected"));var e=document.getElementById("groups-all");if(null!==e&&window.MutationObserver){var f=new MutationObserver(function(b){b.forEach(function(b){"class"===b.attributeName&&a("#hgbp-enable-tree-view-container input").prop("disabled",a("#groups-personal").hasClass("selected"))})});f.observe(e,{attributes:!0,childList:!1,characterData:!1,subtree:!1,attributeFilter:["class"]})}a("#buddypress").on("click",".toggle-child-groups",function(b){b.preventDefault(),c(a(this)),d(a(this))}),a("#buddypress").on("change","#hgbp-enable-tree-view",function(c){b(a(this))})})}(jQuery);